
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="refresh" content="900">  <!-- Auto-refresh every 15 minutes (900 seconds) -->
        <title>TradeBot Dashboard</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <style>
            body { padding: 20px; }
            .card { margin-bottom: 20px; }
            .metric-card { text-align: center; padding: 15px; }
            .positive { color: green; }
            .negative { color: red; }
            .table-container { overflow-x: auto; }
            .nav-tabs { margin-bottom: 15px; }
        </style>
    </head>
    <body>
        <div class="container-fluid">
            <h1 class="mb-4">üìä TradeBot Dashboard</h1>
            <p class="lead">Real-time visualization of trading activities</p>
            
            <!-- Summary Metrics -->
            <div class="row mb-4">
                <div class="col-md-2">
                    <div class="card metric-card">
                        <h5>Total Positions</h5>
                        <h2>13</h2>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card metric-card">
                        <h5>Open Positions</h5>
                        <h2>5</h2>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card metric-card">
                        <h5>Closed Positions</h5>
                        <h2>8</h2>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card metric-card">
                        <h5>Total Spent</h5>
                        <h2>$56.20</h2>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card metric-card">
                        <h5>Current Value</h5>
                        <h2>$59.00</h2>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="card metric-card">
                        <h5>Total Profit/Loss</h5>
                        <h2 class="positive">
                            $1.26
                        </h2>
                        <p class="positive">
                            +3.48%
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Transactions Tabs -->
            <div class="card mb-4">
                <div class="card-header">
                    <h4>üìù Transactions</h4>
                </div>
                <div class="card-body">
                    <ul class="nav nav-tabs" id="transactionTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="all-positions-tab" data-bs-toggle="tab" 
                                data-bs-target="#all-positions" type="button" role="tab" aria-selected="true">
                                All Positions
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="buy-sell-tab" data-bs-toggle="tab" 
                                data-bs-target="#buy-sell" type="button" role="tab" aria-selected="false">
                                Buy/Sell Pairs
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="recent-orders-tab" data-bs-toggle="tab" 
                                data-bs-target="#recent-orders" type="button" role="tab" aria-selected="false">
                                Recent Orders
                            </button>
                        </li>
                    </ul>
                    
                    <div class="tab-content" id="transactionTabsContent">
                        <!-- All Positions Tab -->
                        <div class="tab-pane fade show active" id="all-positions" role="tabpanel">
                            <div class="table-container">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>Symbol</th>
                                            <th>Quantity</th>
                                            <th>Buy Price</th>
                                            <th>Current Price</th>
                                            <th>Investment</th>
                                            <th>Current Value</th>
                                            <th>Status</th>
                                            <th>Buy Date</th>
                                            <th>Sell Price</th>
                                            <th>Sell Date</th>
                                        </tr>
                                    </thead>
                                    <tbody>
    
                                        <tr>
                                            <td>AUPH</td>
                                            <td>0.2415</td>
                                            <td>$12.44</td>
                                            <td>$12.60</td>
                                            <td>$3.00</td>
                                            <td>$3.04</td>
                                            <td>closed</td>
                                            <td>2025-09-08 08:52</td>
                                            <td>$12.60</td>
                                            <td>2025-09-08 14:52</td>
                                        </tr>
        
                                        <tr>
                                            <td>ATEX</td>
                                            <td>0.2745</td>
                                            <td>$22.14</td>
                                            <td>$24.01</td>
                                            <td>$6.08</td>
                                            <td>$6.59</td>
                                            <td>open</td>
                                            <td>2025-09-08 08:52</td>
                                            <td></td>
                                            <td></td>
                                        </tr>
        
                                        <tr>
                                            <td>ASX</td>
                                            <td>0.2619</td>
                                            <td>$11.46</td>
                                            <td>$11.16</td>
                                            <td>$3.00</td>
                                            <td>$2.92</td>
                                            <td>closed</td>
                                            <td>2025-09-08 08:52</td>
                                            <td>$11.16</td>
                                            <td>2025-09-08 09:52</td>
                                        </tr>
        
                                        <tr>
                                            <td>ASUR</td>
                                            <td>0.3686</td>
                                            <td>$8.16</td>
                                            <td>$7.82</td>
                                            <td>$3.01</td>
                                            <td>$2.88</td>
                                            <td>closed</td>
                                            <td>2025-09-08 08:52</td>
                                            <td>$7.82</td>
                                            <td>2025-09-08 15:52</td>
                                        </tr>
        
                                        <tr>
                                            <td>ATAI</td>
                                            <td>2.027</td>
                                            <td>$4.55</td>
                                            <td>$4.88</td>
                                            <td>$9.22</td>
                                            <td>$9.89</td>
                                            <td>open</td>
                                            <td>2025-09-08 08:52</td>
                                            <td></td>
                                            <td></td>
                                        </tr>
        
                                        <tr>
                                            <td>CWK</td>
                                            <td>0.1844</td>
                                            <td>$16.27</td>
                                            <td>$17.41</td>
                                            <td>$3.00</td>
                                            <td>$3.21</td>
                                            <td>closed</td>
                                            <td>2025-09-08 07:50</td>
                                            <td>$17.41</td>
                                            <td>2025-09-08 15:50</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWH</td>
                                            <td>0.1706</td>
                                            <td>$17.60</td>
                                            <td>$17.85</td>
                                            <td>$3.00</td>
                                            <td>$3.05</td>
                                            <td>open</td>
                                            <td>2025-09-08 07:50</td>
                                            <td></td>
                                            <td></td>
                                        </tr>
        
                                        <tr>
                                            <td>CWCO</td>
                                            <td>0.1784</td>
                                            <td>$33.77</td>
                                            <td>$35.17</td>
                                            <td>$6.02</td>
                                            <td>$6.27</td>
                                            <td>closed</td>
                                            <td>2025-09-08 07:50</td>
                                            <td>$35.17</td>
                                            <td>2025-09-08 10:50</td>
                                        </tr>
        
                                        <tr>
                                            <td>CVLG</td>
                                            <td>0.2512</td>
                                            <td>$23.79</td>
                                            <td>$22.61</td>
                                            <td>$5.98</td>
                                            <td>$5.68</td>
                                            <td>closed</td>
                                            <td>2025-09-08 07:50</td>
                                            <td>$22.61</td>
                                            <td>2025-09-08 08:50</td>
                                        </tr>
        
                                        <tr>
                                            <td>CVGI</td>
                                            <td>1.0</td>
                                            <td>$1.80</td>
                                            <td>$1.97</td>
                                            <td>$1.80</td>
                                            <td>$1.97</td>
                                            <td>open</td>
                                            <td>2025-09-08 07:50</td>
                                            <td></td>
                                            <td></td>
                                        </tr>
        
                                        <tr>
                                            <td>CWK</td>
                                            <td>0.1844</td>
                                            <td>$16.25</td>
                                            <td>$18.30</td>
                                            <td>$3.00</td>
                                            <td>$3.38</td>
                                            <td>closed</td>
                                            <td>2025-09-08 07:42</td>
                                            <td>$18.30</td>
                                            <td>2025-09-08 12:42</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWH</td>
                                            <td>0.1705</td>
                                            <td>$17.58</td>
                                            <td>$18.45</td>
                                            <td>$3.00</td>
                                            <td>$3.15</td>
                                            <td>open</td>
                                            <td>2025-09-08 07:42</td>
                                            <td></td>
                                            <td></td>
                                        </tr>
        
                                        <tr>
                                            <td>CWCO</td>
                                            <td>0.1802</td>
                                            <td>$33.79</td>
                                            <td>$38.67</td>
                                            <td>$6.09</td>
                                            <td>$6.97</td>
                                            <td>closed</td>
                                            <td>2025-09-08 07:42</td>
                                            <td>$38.67</td>
                                            <td>2025-09-08 13:42</td>
                                        </tr>
        
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Buy/Sell Pairs Tab -->
                        <div class="tab-pane fade" id="buy-sell" role="tabpanel">
                            <div class="table-container">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>Symbol</th>
                                            <th>Quantity</th>
                                            <th>Buy Price</th>
                                            <th>Sell Price</th>
                                            <th>Investment</th>
                                            <th>Return</th>
                                            <th>Profit/Loss</th>
                                            <th>P/L %</th>
                                            <th>Buy Date</th>
                                            <th>Sell Date</th>
                                            <th>Holding Period</th>
                                        </tr>
                                    </thead>
                                    <tbody>
    
                                        <tr>
                                            <td>AUPH</td>
                                            <td>0.2415</td>
                                            <td>$12.44</td>
                                            <td>$12.60</td>
                                            <td>$3.00</td>
                                            <td>$3.04</td>
                                            <td class="positive">$+0.04</td>
                                            <td class="positive">+1.33%</td>
                                            <td>2025-09-08 08:52</td>
                                            <td>2025-09-08 14:52</td>
                                            <td>6.00 hours</td>
                                        </tr>
            
                                        <tr>
                                            <td>ASX</td>
                                            <td>0.2619</td>
                                            <td>$11.46</td>
                                            <td>$11.16</td>
                                            <td>$3.00</td>
                                            <td>$2.92</td>
                                            <td class="negative">$-0.08</td>
                                            <td class="negative">-2.59%</td>
                                            <td>2025-09-08 08:52</td>
                                            <td>2025-09-08 09:52</td>
                                            <td>1.00 hours</td>
                                        </tr>
            
                                        <tr>
                                            <td>ASUR</td>
                                            <td>0.3686</td>
                                            <td>$8.16</td>
                                            <td>$7.82</td>
                                            <td>$3.01</td>
                                            <td>$2.88</td>
                                            <td class="negative">$-0.13</td>
                                            <td class="negative">-4.25%</td>
                                            <td>2025-09-08 08:52</td>
                                            <td>2025-09-08 15:52</td>
                                            <td>7.00 hours</td>
                                        </tr>
            
                                        <tr>
                                            <td>CWK</td>
                                            <td>0.1844</td>
                                            <td>$16.27</td>
                                            <td>$17.41</td>
                                            <td>$3.00</td>
                                            <td>$3.21</td>
                                            <td class="positive">$+0.21</td>
                                            <td class="positive">+7.02%</td>
                                            <td>2025-09-08 07:50</td>
                                            <td>2025-09-08 15:50</td>
                                            <td>8.00 hours</td>
                                        </tr>
            
                                        <tr>
                                            <td>CWCO</td>
                                            <td>0.1784</td>
                                            <td>$33.77</td>
                                            <td>$35.17</td>
                                            <td>$6.02</td>
                                            <td>$6.27</td>
                                            <td class="positive">$+0.25</td>
                                            <td class="positive">+4.15%</td>
                                            <td>2025-09-08 07:50</td>
                                            <td>2025-09-08 10:50</td>
                                            <td>3.00 hours</td>
                                        </tr>
            
                                        <tr>
                                            <td>CVLG</td>
                                            <td>0.2512</td>
                                            <td>$23.79</td>
                                            <td>$22.61</td>
                                            <td>$5.98</td>
                                            <td>$5.68</td>
                                            <td class="negative">$-0.30</td>
                                            <td class="negative">-4.95%</td>
                                            <td>2025-09-08 07:50</td>
                                            <td>2025-09-08 08:50</td>
                                            <td>1.00 hours</td>
                                        </tr>
            
                                        <tr>
                                            <td>CWK</td>
                                            <td>0.1844</td>
                                            <td>$16.25</td>
                                            <td>$18.30</td>
                                            <td>$3.00</td>
                                            <td>$3.38</td>
                                            <td class="positive">$+0.38</td>
                                            <td class="positive">+12.65%</td>
                                            <td>2025-09-08 07:42</td>
                                            <td>2025-09-08 12:42</td>
                                            <td>5.00 hours</td>
                                        </tr>
            
                                        <tr>
                                            <td>CWCO</td>
                                            <td>0.1802</td>
                                            <td>$33.79</td>
                                            <td>$38.67</td>
                                            <td>$6.09</td>
                                            <td>$6.97</td>
                                            <td class="positive">$+0.88</td>
                                            <td class="positive">+14.44%</td>
                                            <td>2025-09-08 07:42</td>
                                            <td>2025-09-08 13:42</td>
                                            <td>6.00 hours</td>
                                        </tr>
            
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Recent Orders Tab -->
                        <div class="tab-pane fade" id="recent-orders" role="tabpanel">
                            <div class="table-container">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>Symbol</th>
                                            <th>Side</th>
                                            <th>Quantity</th>
                                            <th>Price</th>
                                            <th>Total Value</th>
                                            <th>Status</th>
                                            <th>Timestamp</th>
                                            <th>Source</th>
                                        </tr>
                                    </thead>
                                    <tbody>
    
                                        <tr>
                                            <td>AUPH</td>
                                            <td class="positive">buy</td>
                                            <td>0.2415</td>
                                            <td>$12.44</td>
                                            <td>$3.00</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:52:40</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>ATEX</td>
                                            <td class="positive">buy</td>
                                            <td>0.2745</td>
                                            <td>$22.14</td>
                                            <td>$6.08</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:52:39</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>ASX</td>
                                            <td class="positive">buy</td>
                                            <td>0.2619</td>
                                            <td>$11.46</td>
                                            <td>$3.00</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:52:38</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>ASUR</td>
                                            <td class="positive">buy</td>
                                            <td>0.3686</td>
                                            <td>$8.16</td>
                                            <td>$3.01</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:52:36</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>ATAI</td>
                                            <td class="positive">buy</td>
                                            <td>2.027</td>
                                            <td>$4.55</td>
                                            <td>$9.22</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:52:35</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWCO</td>
                                            <td class="negative">sell</td>
                                            <td>0.1784</td>
                                            <td>$33.92</td>
                                            <td>$6.05</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:50:46</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWCO</td>
                                            <td class="negative">sell</td>
                                            <td>0.1802</td>
                                            <td>$33.92</td>
                                            <td>$6.11</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:50:45</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWCO</td>
                                            <td class="negative">sell</td>
                                            <td>0.1802</td>
                                            <td>$33.92</td>
                                            <td>$6.11</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:50:44</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWCO</td>
                                            <td class="negative">sell</td>
                                            <td>0.1802</td>
                                            <td>$33.92</td>
                                            <td>$6.11</td>
                                            <td>filled</td>
                                            <td>2025-09-08 08:50:43</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWK</td>
                                            <td class="positive">buy</td>
                                            <td>0.1844</td>
                                            <td>$16.27</td>
                                            <td>$3.00</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:50:22</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWH</td>
                                            <td class="positive">buy</td>
                                            <td>0.1706</td>
                                            <td>$17.60</td>
                                            <td>$3.00</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:50:21</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWCO</td>
                                            <td class="positive">buy</td>
                                            <td>0.1784</td>
                                            <td>$33.77</td>
                                            <td>$6.02</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:50:19</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CVLG</td>
                                            <td class="positive">buy</td>
                                            <td>0.2512</td>
                                            <td>$23.79</td>
                                            <td>$5.98</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:50:18</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CVGI</td>
                                            <td class="positive">buy</td>
                                            <td>1.0</td>
                                            <td>$1.80</td>
                                            <td>$1.80</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:50:17</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWH</td>
                                            <td class="negative">sell</td>
                                            <td>0.1705</td>
                                            <td>$17.57</td>
                                            <td>$3.00</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:48:31</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWK</td>
                                            <td class="positive">buy</td>
                                            <td>0.1844</td>
                                            <td>$16.25</td>
                                            <td>$3.00</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:42:32</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWH</td>
                                            <td class="positive">buy</td>
                                            <td>0.1705</td>
                                            <td>$17.58</td>
                                            <td>$3.00</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:42:31</td>
                                            <td>access_key</td>
                                        </tr>
        
                                        <tr>
                                            <td>CWCO</td>
                                            <td class="positive">buy</td>
                                            <td>0.1802</td>
                                            <td>$33.79</td>
                                            <td>$6.09</td>
                                            <td>filled</td>
                                            <td>2025-09-08 07:42:30</td>
                                            <td>access_key</td>
                                        </tr>
        
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bootstrap and Chart.js -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            // Only initialize charts if elements exist
            document.addEventListener('DOMContentLoaded', function() {
                // Profit/Loss by Symbol Chart
                const profitLossCtx = document.getElementById('profitLossChart');
                if (profitLossCtx) {
                    new Chart(profitLossCtx.getContext('2d'), {
                        type: 'bar',
                        data: {
                            labels: {json.dumps(list(profit_by_symbol.keys()))},
                            datasets: [{
                                label: 'Profit/Loss ($)',
                                data: {json.dumps(list(profit_by_symbol.values()))},
                                backgroundColor: {json.dumps(['#4CAF50' if v >= 0 else '#F44336' for v in profit_by_symbol.values()])},
                                borderColor: {json.dumps(['#388E3C' if v >= 0 else '#D32F2F' for v in profit_by_symbol.values()])},
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }
                
                // Trading Activity Chart
                const activityCtx = document.getElementById('activityChart');
                if (activityCtx) {
                    new Chart(activityCtx.getContext('2d'), {
                        type: 'line',
                        data: {
                            labels: {json.dumps(dates)},
                            datasets: [
                                {
                                    label: 'Buy Orders',
                                    data: {json.dumps(buy_counts)},
                                    backgroundColor: 'rgba(76, 175, 80, 0.2)',
                                    borderColor: '#4CAF50',
                                    borderWidth: 2,
                                    tension: 0.1
                                },
                                {
                                    label: 'Sell Orders',
                                    data: {json.dumps(sell_counts)},
                                    backgroundColor: 'rgba(244, 67, 54, 0.2)',
                                    borderColor: '#F44336',
                                    borderWidth: 2,
                                    tension: 0.1
                                }
                            ]
                        },
                        options: {
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                }
                
                // Asset Allocation Chart
                const allocationCtx = document.getElementById('allocationChart');
                if (allocationCtx) {
                    new Chart(allocationCtx.getContext('2d'), {
                        type: 'pie',
                        data: {
                            labels: {json.dumps(list(allocation_data.keys()))},
                            datasets: [{
                                label: 'Asset Value ($)',
                                data: {json.dumps(list(allocation_data.values()))},
                                backgroundColor: [
                                    '#4CAF50', '#2196F3', '#FFC107', '#F44336', '#9C27B0',
                                    '#00BCD4', '#FF9800', '#795548', '#607D8B', '#E91E63'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true
                        }
                    });
                }
            });
            
            // Initialize tabs and countdown timer
            document.addEventListener('DOMContentLoaded', function() {
                // Initialize tabs
                const triggerTabList = [].slice.call(document.querySelectorAll('#transactionTabs button'));
                triggerTabList.forEach(function(triggerEl) {
                    const tabTrigger = new bootstrap.Tab(triggerEl);
                    triggerEl.addEventListener('click', function(event) {
                        event.preventDefault();
                        tabTrigger.show();
                    });
                });
                
                // Initialize countdown timer for auto-refresh
                const countdownEl = document.getElementById('countdown');
                let minutes = 15;
                let seconds = 0;
                
                function updateCountdown() {
                    countdownEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    if (minutes === 0 && seconds === 0) {
                        // Time to refresh
                        location.reload();
                        return;
                    }
                    
                    if (seconds === 0) {
                        minutes--;
                        seconds = 59;
                    } else {
                        seconds--;
                    }
                    
                    setTimeout(updateCountdown, 1000);
                }
                
                // Start the countdown
                updateCountdown();
            });
        </script>
    </body>
    </html>
    